id: https://concepts.datalad.org/s/prov/unreleased
name: nbdd
version: UNRELEASED
status: bibo:status/draft
title: Neurobagel Data Dictionary Schema
description: A LinkML-YAML schema for a Neurobagel Data Dictionary
comments:
  - ALL CONTENT HERE IS UNRELEASED AND MAY CHANGE ANY TIME

prefixes:
  nb: http://neurobagel.org/vocab/

default_prefix: nb

slots:
  TermURL:
    slot_uri: nb:TermURL
    title: Term URL
    description: An unambiguous identifier for the term, concept or entity that is referenced.
    range: string

  Label:
    slot_uri: nb:Label
    title: Label
    description: A human-readable label. If more than one label exists for the term, the preferred label should be used.
    range: string

  IsAbout:
    slot_uri: nb:IsAbout
    title: Is About
    description: The concept or controlled term that describes this column.
    range: Identifier

  MissingValues:
    slot_uri: nb:MissingValues
    title: Missin Values
    description: A list of unique values that represent invalid responses, typos, or missing data.
    range: string
    multivalued: true
    inlined: true
    inlined_as_list: true
    unique_values: true
    ifabsent: []

  Levels:
    slot_uri: nb:Levels
    title: Levels
    description: "For categorical variables: An object of values (keys) in the column and the semantic term (URI and label) they are mapped to."
    multivalued: true
    inlined: true
    any_of:
      - range: string
      - range: Identifier

  Transformation:
    slot_uri: nb:Transformation
    title: Transformation
    description: Describes a transformation to apply to the values in this column to match the desired format.
    range: Identifier

  Identifies:
    slot_uri: nb:Identifies
    title: Identifies
    description: For identifier columns, the type of observation uniquely identified by this column.
    range: string

  IsPartOf:
    slot_uri: nb:IsPartOf
    title: Is Part Of
    description: If the column is a subscale or item of an assessment tool, the assessment tool should be specified here.
    range: Identifier

  Description:
    slot_uri: nb:Description
    title: Description
    description: Free-form natural language description.
    range: string

  Annotations:
    slot_uri: nb:Annotations
    title: Annotations
    description: Semantic annotations.
    any_of:
      - range: CategoricalNeurobagel
      - rage: ContinuousNeurobagel
      - rage: IdentifierNeurobagel
      - rage: ToolNeurobagel

  Units:
    title: Units
    description: Measurement units for the values in this column.
    range: string

  has_columns:
    slot_uri: nb:has_columns
    title: Columns
    description: Columns in a data dictionary
    any_of:
      - range: ContinuousColumn
      - range: CategoricalColumn
    multivalued: true


classes:

  DataDictionary:
    class_uri: nb:DataDictionary
    title: DataDictionary
    description: A data dictionary with human and machine-readable information for a tabular data file
    slots:
      - has_columns
    slot_usage:
      has_columns:
        required: true

  ContinuousColumn:
    class_uri: nb:ContinuousColumn
    title: ContinuousColumn
    description: A BIDS column annotation for a continuous column
    slots:
      - Description
      - Annotations
      - Units
    slot_usage:
      Description:
        required: true

  CategoricalColumn:
    class_uri: nb:CategoricalColumn
    title: CategoricalColumn
    description: A BIDS column annotation for a categorical column
    slots:
      - Description
      - Annotations
      - Levels
    slot_usage:
      Description:
        required: true
      Levels:
        required: true

  CategoricalNeurobagel:
    class_uri: nb:CategoricalNeurobagel
    title: CategoricalNeurobagel
    description: A Neurobagel annotation for a categorical column
    slots:
      - IsAbout
      - MissingValues
      - Levels
    slot_usage:
      IsAbout:
        required: true
      Levels:
        required: true

  ContinuousNeurobagel:
    class_uri: nb:ContinuousNeurobagel
    title: ContinuousNeurobagel
    description: A Neurobagel annotation for a continuous column
    slots:
      - IsAbout
      - MissingValues
      - Transformation
    slot_usage:
      IsAbout:
        required: true
      Transformation:
        required: true

  IdentifierNeurobagel:
    class_uri: nb:IdentifierNeurobagel
    title: IdentifierNeurobagel
    description: A Neurobagel annotation for an identifier column
    slots:
      - IsAbout
      - MissingValues
      - Identifies
    slot_usage:
      IsAbout:
        required: true
      Identifies:
        required: true

  ToolNeurobagel:
    class_uri: nb:ToolNeurobagel
    title: ToolNeurobagel
    description: A Neurobagel annotation for an assessment tool column
    slots:
      - IsAbout
      - MissingValues
      - IsPartOf
    slot_usage:
      IsAbout:
        required: true
      IsPartOf:
        required: true

  Identifier:
    class_uri: nb:Identifier
    title: Identifier
    description: An identifier of a controlled term with an IRI
    slots:
      - term_url
      - label
    slot_usage:
      term_url:
        required: true
      label:
        required: true